import{r as h,o as b,L as p,i as s,f as o,h as e,z as g,j as a,y as C,t as i,F as S,m as z}from"./index-C4Um7Kjq.js";const j={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-lg"},B={class:"p-5"},M={class:"flex justify-between items-start"},V={class:"flex items-center"},D={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},E={class:"text-lg font-medium text-gray-900 dark:text-white"},L={key:0,class:"mt-1 flex items-center"},_={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 z-10"},$={key:0,class:"mt-3 text-sm text-gray-500 dark:text-gray-400 line-clamp-2"},F={key:1,class:"mt-4"},N={class:"space-y-1"},O={class:"text-gray-700 dark:text-gray-300 truncate"},R={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic"},A={__name:"SectionCard",props:{section:{type:Object,required:!0},subsections:{type:Array,default:()=>[]}},emits:["view","edit","delete"],setup(t,{emit:v}){const l=t,c=v,d=h(null),r=h(!1),f=()=>{r.value=!r.value},m=()=>{r.value=!1,c("view",l.section)},k=()=>{r.value=!1,c("edit",l.section)},w=()=>{r.value=!1,c("delete",l.section)},y=x=>{d.value&&!d.value.contains(x.target)&&(r.value=!1)};return b(()=>{document.addEventListener("click",y)}),p(()=>{document.removeEventListener("click",y)}),(x,n)=>(o(),s("div",j,[e("div",{class:"h-3",style:g(`background-color: ${t.section.color||"#3498db"}`)},null,4),e("div",B,[e("div",M,[e("div",V,[e("div",{class:"w-10 h-10 rounded-md flex items-center justify-center mr-3",style:g(`background-color: ${t.section.color||"#3498db"}`)},[(o(),s("svg",D,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z",class:C(t.section.icon||"folder")},null,2)]))],4),e("div",null,[e("h3",E,i(t.section.title),1),t.section.parent?(o(),s("div",L,n[0]||(n[0]=[e("span",{class:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded"}," Subsection ",-1)]))):a("",!0)])]),e("div",{class:"relative",ref_key:"dropdownRef",ref:d},[e("button",{onClick:f,class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none"},n[1]||(n[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])),r.value?(o(),s("div",_,[e("div",{class:"py-1",role:"menu","aria-orientation":"vertical"},[e("button",{onClick:m,class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",role:"menuitem"}," View "),e("button",{onClick:k,class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",role:"menuitem"}," Edit "),e("button",{onClick:w,class:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",role:"menuitem"}," Delete ")])])):a("",!0)],512)]),t.section.description?(o(),s("p",$,i(t.section.description),1)):a("",!0),t.subsections&&t.subsections.length>0?(o(),s("div",F,[n[2]||(n[2]=e("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2"}," Subsections ",-1)),e("ul",N,[(o(!0),s(S,null,z(t.subsections.slice(0,3),u=>(o(),s("li",{key:u.id,class:"text-sm flex items-center"},[e("div",{class:"w-3 h-3 rounded-full mr-2",style:g(`background-color: ${u.color||"#3498db"}`)},null,4),e("span",O,i(u.title),1)]))),128)),t.subsections.length>3?(o(),s("li",R," +"+i(t.subsections.length-3)+" more... ",1)):a("",!0)])])):a("",!0),e("button",{onClick:m,class:"mt-4 w-full text-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-primary-600 to-secondary-600 hover:from-primary-700 hover:to-secondary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," View Section ")])]))}};export{A as _};
