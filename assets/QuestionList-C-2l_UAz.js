import{_ as P,r as k,a as E,c as V,o as K,b as Q,w as g,d as O,u as R,e as Z,f as n,g as m,h as t,i as l,j as v,k as y,l as w,v as b,F as _,m as C,t as i,n as q,p as G,q as d,s as I,x as J,T as W,y as X,z as Y,A as tt}from"./index-C4Um7Kjq.js";import{_ as et}from"./PageHeader-Czcs01bb.js";import{u as ot}from"./questions-Di3wEWNw.js";import{s as st}from"./sections-BygJVMTa.js";import{t as rt}from"./tags-SncAe3P9.js";const nt={class:"flex space-x-2"},lt={key:0,class:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10"},at={class:"mb-6 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden"},it={class:"p-4"},dt={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ut={class:"relative"},gt={class:"relative"},ct=["value"],pt={class:"relative"},vt=["value"],yt={class:"relative"},ft={class:"relative"},xt={class:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4"},mt={class:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-lg p-4 text-white transform transition-all hover:scale-105"},wt={class:"flex items-center"},ht={class:"ml-4"},kt={class:"text-2xl font-bold"},bt={class:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg shadow-lg p-4 text-white transform transition-all hover:scale-105"},_t={class:"flex items-center"},Ct={class:"ml-4"},Mt={class:"text-2xl font-bold"},Qt={class:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg shadow-lg p-4 text-white transform transition-all hover:scale-105"},zt={class:"flex items-center"},Bt={class:"ml-4"},St={class:"text-2xl font-bold"},Vt={key:2,class:"space-y-4"},jt={class:"absolute top-4 right-4"},Ft={class:"p-6"},$t={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},Tt={class:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2"},At={key:0,class:"flex flex-wrap gap-1 mt-3 mb-4"},Dt={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400"},Lt={key:0,class:"flex items-center"},Nt={class:"px-6 py-3 bg-gray-50 dark:bg-gray-700 flex justify-between"},Ht={class:"flex space-x-3"},Ut=["onClick"],Pt=["onClick"],Et=["onClick"],Kt={key:3,class:"mt-5 flex justify-between items-center"},Ot={class:"text-sm text-gray-500 dark:text-gray-400"},Rt={class:"flex space-x-2"},Zt={__name:"QuestionList",setup(qt){const z=R(),a=ot(),M=k([]),B=k([]),c=k(1),p=k(!1),r=E({type:null,section:null,tag:null,searchQuery:"",sort:"-updated_at"}),j=V(()=>a.questions.filter(s=>s.type==="question"&&s.additional_content&&s.additional_content.trim().length>0||s.type==="multiple_choice"&&s.data&&s.data.correct_answer).length),F=V(()=>"Medium");K(async()=>{await Promise.all([$(),T(),h()]),document.addEventListener("click",s=>{p.value&&!s.target.closest("button")&&(p.value=!1)})});const $=async()=>{try{const s=await st.getSections();M.value=s.data.results}catch(s){console.error("Failed to load sections:",s)}},T=async()=>{try{const s=await rt.getTags();B.value=s.data.results}catch(s){console.error("Failed to load tags:",s)}},h=async()=>{try{await a.fetchQuestions(c.value)}catch(s){console.error("Failed to fetch questions:",s)}},S=async s=>{c.value=s,await h()},f=async()=>{a.setFilters({type:r.type,section:r.section,tag:r.tag,searchQuery:r.searchQuery,sort:r.sort}),c.value=1,await h()},A=async()=>{r.type=null,r.section=null,r.tag=null,r.searchQuery="",r.sort="-updated_at",a.resetFilters(),c.value=1,await h()},D=s=>{z.push(`/questions/${s.id}`)},L=s=>{z.push(`/questions/${s.id}/edit?type=${s.type}`)},N=async s=>{if(confirm(`Are you sure you want to delete "${s.title}"?`))try{await a.deleteQuestion(s.id,s.type)}catch(e){console.error("Failed to delete question:",e)}},H=s=>{const e=M.value.find(x=>x.id===s);return e?e.title:""},U=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"";return(s,e)=>{const x=Z("router-link");return n(),Q(O,{title:"Questions & Quizzes"},{default:g(()=>[m(et,{title:"Questions & Quizzes"},{actions:g(()=>[t("div",nt,[t("button",{onClick:e[0]||(e[0]=o=>p.value=!p.value),class:"btn-primary flex items-center relative"},[e[11]||(e[11]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"-ml-1 mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),e[12]||(e[12]=y(" Create ")),p.value?(n(),l("div",lt,[m(x,{to:"/questions/new?type=question",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:g(()=>e[9]||(e[9]=[y(" Free-form Question ")])),_:1}),m(x,{to:"/questions/new?type=multiple_choice",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:g(()=>e[10]||(e[10]=[y(" Multiple Choice Quiz ")])),_:1})])):v("",!0)]),m(x,{to:"/questions/quiz",class:"btn bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg transform transition hover:scale-105"},{default:g(()=>e[13]||(e[13]=[t("span",{class:"flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})]),y(" Take Quiz ")],-1)])),_:1})])]),_:1}),t("div",at,[t("div",it,[t("div",dt,[t("div",null,[e[16]||(e[16]=t("label",{for:"filter-type",class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1.5"},"Question Type",-1)),t("div",ut,[w(t("select",{id:"filter-type","onUpdate:modelValue":e[1]||(e[1]=o=>r.type=o),onChange:f,class:"w-full px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-700/50 dark:text-white appearance-none"},e[14]||(e[14]=[t("option",{value:null},"All Types",-1),t("option",{value:"question"},"Free-form Questions",-1),t("option",{value:"multiple_choice"},"Multiple Choice",-1)]),544),[[b,r.type]]),e[15]||(e[15]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[e[19]||(e[19]=t("label",{for:"filter-section",class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1.5"},"Section",-1)),t("div",gt,[w(t("select",{id:"filter-section","onUpdate:modelValue":e[2]||(e[2]=o=>r.section=o),onChange:f,class:"w-full px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-700/50 dark:text-white appearance-none"},[e[17]||(e[17]=t("option",{value:null},"All Sections",-1)),(n(!0),l(_,null,C(M.value,o=>(n(),l("option",{key:o.id,value:o.id},i(o.title),9,ct))),128))],544),[[b,r.section]]),e[18]||(e[18]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[e[22]||(e[22]=t("label",{for:"filter-tag",class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1.5"},"Tag",-1)),t("div",pt,[w(t("select",{id:"filter-tag","onUpdate:modelValue":e[3]||(e[3]=o=>r.tag=o),onChange:f,class:"w-full px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-700/50 dark:text-white appearance-none"},[e[20]||(e[20]=t("option",{value:null},"All Tags",-1)),(n(!0),l(_,null,C(B.value,o=>(n(),l("option",{key:o.id,value:o.id},i(o.name),9,vt))),128))],544),[[b,r.tag]]),e[21]||(e[21]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[e[25]||(e[25]=t("label",{for:"filter-sort",class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1.5"},"Sort By",-1)),t("div",yt,[w(t("select",{id:"filter-sort","onUpdate:modelValue":e[4]||(e[4]=o=>r.sort=o),onChange:f,class:"w-full px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-700/50 dark:text-white appearance-none"},e[23]||(e[23]=[t("option",{value:"-updated_at"},"Last Updated",-1),t("option",{value:"-created_at"},"Newest First",-1),t("option",{value:"created_at"},"Oldest First",-1),t("option",{value:"title"},"Title (A-Z)",-1),t("option",{value:"-title"},"Title (Z-A)",-1)]),544),[[b,r.sort]]),e[24]||(e[24]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[e[27]||(e[27]=t("label",{for:"filter-search",class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1.5"},"Search",-1)),t("div",ft,[e[26]||(e[26]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),w(t("input",{id:"filter-search",type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>r.searchQuery=o),onKeyup:q(f,["enter"]),class:"block w-full pl-10 pr-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-700/50 dark:text-white",placeholder:"Search questions..."},null,544),[[G,r.searchQuery]])])])]),t("div",{class:"mt-4 flex justify-end"},[t("button",{onClick:A,class:"text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 flex items-center"},e[28]||(e[28]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1),y(" Reset Filters ")]))])])]),t("div",xt,[t("div",mt,[t("div",wt,[e[30]||(e[30]=t("div",{class:"flex-shrink-0 bg-white/20 rounded-full p-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",ht,[e[29]||(e[29]=t("h3",{class:"text-lg font-semibold"},"Total Questions",-1)),t("p",kt,i(d(a).pagination.count||0),1)])])]),t("div",bt,[t("div",_t,[e[32]||(e[32]=t("div",{class:"flex-shrink-0 bg-white/20 rounded-full p-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1)),t("div",Ct,[e[31]||(e[31]=t("h3",{class:"text-lg font-semibold"},"Answered",-1)),t("p",Mt,i(j.value),1)])])]),t("div",Qt,[t("div",zt,[e[34]||(e[34]=t("div",{class:"flex-shrink-0 bg-white/20 rounded-full p-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])],-1)),t("div",Bt,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold"},"Difficulty Level",-1)),t("p",St,i(F.value),1)])])])]),d(a).loading?(n(),Q(I,{key:0})):d(a).questions.length===0?(n(),Q(J,{key:1,title:"No questions found",message:"Start building your knowledge base by creating questions and quizzes.","action-text":"Create a Question",onAction:e[6]||(e[6]=o=>p.value=!0)},{icon:g(()=>e[35]||(e[35]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),_:1})):(n(),l("div",Vt,[m(W,{name:"list",tag:"div",class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},{default:g(()=>[(n(!0),l(_,null,C(d(a).questions,o=>(n(),l("div",{key:o.id,class:"group relative bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300"},[t("div",jt,[t("span",{class:X(["px-2 py-1 rounded-full text-xs font-medium",o.type==="multiple_choice"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"])},i(o.type==="multiple_choice"?"Multiple Choice":"Question"),3)]),t("div",Ft,[t("h3",$t,i(o.title),1),t("div",Tt,i(o.content),1),o.tags&&o.tags.length>0?(n(),l("div",At,[(n(!0),l(_,null,C(o.tags,u=>(n(),l("span",{key:u.id,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",style:Y({backgroundColor:u.color+"20",color:u.color})},i(u.name),5))),128))])):v("",!0),t("div",Dt,[o.section?(n(),l("div",Lt,[e[36]||(e[36]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1)),y(" "+i(H(o.section)),1)])):v("",!0),t("div",null," Updated: "+i(U(o.updated_at)),1)])]),t("div",Nt,[t("div",Ht,[t("button",{onClick:u=>D(o),class:"text-sm px-3 py-1 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"}," View ",8,Ut),t("button",{onClick:u=>L(o),class:"text-sm px-3 py-1 rounded-md text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors duration-200"}," Edit ",8,Pt)]),t("div",null,[t("button",{onClick:tt(u=>N(o),["stop"]),class:"text-sm px-3 py-1 rounded-md text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"}," Delete ",8,Et)])]),e[37]||(e[37]=t("div",{class:"absolute -top-10 -left-10 w-20 h-20 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full transform rotate-45 group-hover:rotate-90 transition-transform duration-500"},null,-1))]))),128))]),_:1})])),d(a).pagination.count>0?(n(),l("div",Kt,[t("div",Ot," Showing "+i(d(a).questions.length)+" of "+i(d(a).pagination.count)+" questions ",1),t("div",Rt,[d(a).pagination.previous?(n(),l("button",{key:0,onClick:e[7]||(e[7]=o=>S(c.value-1)),class:"btn bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}," Previous ")):v("",!0),d(a).pagination.next?(n(),l("button",{key:1,onClick:e[8]||(e[8]=o=>S(c.value+1)),class:"btn bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}," Next ")):v("",!0)])])):v("",!0)]),_:1})}}},Yt=P(Zt,[["__scopeId","data-v-98731cbf"]]);export{Yt as default};
