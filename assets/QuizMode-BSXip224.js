import{r as d,c as C,C as Me,G as T,o as Se,H as K,I as ze,b as J,w as B,d as Qe,u as Ae,e as je,f as l,g as ue,i as u,h as t,k as y,s as $e,x as Ie,q as Fe,j as m,y as b,l as P,F as ge,m as ce,t as n,v as Ke,p as ye,E as Re,z as Ne,n as z,A as Q}from"./index-C4Um7Kjq.js";import{_ as Te}from"./PageHeader-Czcs01bb.js";import{u as Be,q as ve}from"./questions-Di3wEWNw.js";import{s as Pe}from"./sections-BygJVMTa.js";const De={class:"flex items-center space-x-2"},Oe={key:0,class:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden"},Ve={class:"p-6"},Ee={class:"space-y-6"},He={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le={class:"relative"},Ue=["value"],Ge={class:"mt-1"},Ye=["max"],Je={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},We={class:"flex items-center"},Xe={key:1,class:"space-y-6"},Ze={class:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden"},et={class:"p-4"},tt={class:"flex items-center justify-between mb-2"},rt={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},st={class:"text-sm text-gray-500 dark:text-gray-400"},ot={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5"},at={class:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden"},lt={class:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between"},nt={class:"flex items-center"},it={class:"flex items-center text-sm text-gray-500 dark:text-gray-400"},dt={class:"p-6"},ut={class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},gt={class:"text-gray-700 dark:text-gray-300 mb-6 whitespace-pre-wrap"},ct={key:0,class:"space-y-4"},yt=["onKeydown"],vt={key:1,class:"space-y-3"},xt=["onClick","tabindex","onKeydown"],mt={key:0,class:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-t border-gray-200 dark:border-gray-700"},bt={class:"flex items-center"},pt={key:1,class:"markdown-body"},ft=["innerHTML"],kt={key:2,class:"flex items-center"},ht={class:"px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-lg font-medium"},wt={key:0,class:"ml-4 text-gray-700 dark:text-gray-300"},_t={key:3,class:"mt-6"},Ct={class:"flex space-x-2"},qt={class:"flex justify-between"},Mt=["disabled"],St={key:2,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},zt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full p-6 m-4"},Qt={class:"mb-6"},At={class:"grid grid-cols-2 gap-4 mb-4"},jt={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},$t={class:"text-2xl font-bold text-gray-900 dark:text-white"},It={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Ft={class:"text-2xl font-bold text-gray-900 dark:text-white"},Kt={key:0,class:"mb-4"},Rt={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg flex items-center justify-between"},Nt={class:"text-green-600 dark:text-green-400 font-medium"},Tt={key:1,class:"mb-4"},Bt={class:"grid grid-cols-3 gap-2 bg-gray-50 dark:bg-gray-700 p-3 rounded-lg text-center"},Pt={class:"text-lg font-bold text-red-600 dark:text-red-400"},Dt={class:"text-lg font-bold text-yellow-600 dark:text-yellow-400"},Ot={class:"text-lg font-bold text-green-600 dark:text-green-400"},Vt={class:"mt-6 text-center p-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white"},Et={class:"text-3xl font-bold"},Jt={__name:"QuizMode",setup(Ht){const W=Ae();Be();const X=d(!0),Z=d([]),p=d([]),f=d("all"),q=d(null),A=d(10),D=d(!0),j=d(!1),x=d([]),c=d(0),g=d(!1),$=d(""),v=d(null),R=d(!1);let k=null,h=null;const I=d(0),O=d(0),V=d({}),w=d([]),E=d(null),F=d(null),o=C(()=>x.value[c.value]||{}),xe=C(()=>o.value.additional_content?Me(o.value.additional_content):""),ee=r=>r.section?typeof r.section=="object"?String(r.section.id):String(r.section):r.section_id?String(r.section_id):null,H=C(()=>{console.log("Computing maxQuestionCount with:",p.value.length,"total questions");const r=p.value.filter(e=>{const a=(f.value!=="multiple_choice"||e.type==="multiple_choice")&&(!q.value||ee(e)===String(q.value));return a||console.log(`Filtering out question ${e.id} - ${e.title}:`,{type:e.type,quizMode:f.value,section:ee(e),sectionFilter:q.value}),a});return console.log(`Filtered from ${p.value.length} to ${r.length} questions`),r.length}),S=C(()=>x.value.filter(r=>r.type==="multiple_choice")),L=C(()=>x.value.filter(r=>r.type==="question")),U=C(()=>Object.values(V.value).filter(r=>r===!0).length),te=C(()=>S.value.length===0?0:Math.round(U.value/S.value.length*100)),me=C(()=>{let r=0,e=0;if(S.value.length>0&&(r+=U.value,e+=S.value.length),w.value.length>0){const a=w.value.reduce((i,_)=>i+(_-1),0);r+=a,e+=w.value.length*2}return e===0?0:Math.round(r/e*100)});T(H,r=>{A.value>r&&(A.value=r||1)}),T(v,r=>{r&&!g.value&&o.value.type==="multiple_choice"&&K(()=>{se()})}),T(g,r=>{r&&o.value.type==="question"&&K(()=>{const e=document.querySelectorAll('[tabindex="11"], [tabindex="12"], [tabindex="13"]');e.length>0&&e[0].focus()})}),T(c,()=>{K(()=>{if(o.value.type==="question")F.value&&F.value.focus();else if(o.value.type==="multiple_choice"){const r=document.querySelector('[tabindex="10"]');r&&r.focus()}})}),Se(async()=>{try{await Promise.all([pe(),fe()])}catch(r){console.error("Error initializing quiz:",r)}finally{X.value=!1}K(()=>{E.value&&E.value.focus()}),document.addEventListener("keydown",re)}),ze(()=>{k&&clearInterval(k),h&&clearInterval(h),document.removeEventListener("keydown",re)});const be=r=>{if(j.value)switch(r.key){case"ArrowLeft":c.value>0&&(r.preventDefault(),oe());break;case"ArrowRight":g.value&&(r.preventDefault(),Y());break;case" ":g.value||(r.preventDefault(),o.value.type==="question"?G():o.value.type==="multiple_choice"&&v.value&&se());break}},re=r=>{var e;if(!(!j.value||!g.value)){if(o.value.type==="question"&&["1","2","3"].includes(r.key)){const a=parseInt(r.key);M(a)}if(o.value.type==="multiple_choice"&&!g.value){const a=((e=o.value.data)==null?void 0:e.choices)||[],i=parseInt(r.key);i>0&&i<=a.length&&N(a[i-1])}}},pe=async()=>{try{console.log("Loading questions for quiz..."),console.log("Using questionService to fetch data...");const r=await ve.getQuestions({page_size:1e4});console.log("Regular questions raw response:",r),console.log("Regular questions data:",r.data);const e=await ve.getMultipleChoiceQuestions({page_size:1e4});console.log("Multiple choice questions raw response:",e),console.log("Multiple choice questions data:",e.data);let a=[];r.data?Array.isArray(r.data)?(a=r.data,console.log("Regular questions is an array directly")):r.data.results?(a=r.data.results,console.log("Regular questions has results property")):console.warn("Regular questions data has unexpected structure:",r.data):console.warn("No data in regularResponse");let i=[];e.data?Array.isArray(e.data)?(i=e.data,console.log("MC questions is an array directly")):e.data.results?(i=e.data.results,console.log("MC questions has results property")):console.warn("MC questions data has unexpected structure:",e.data):console.warn("No data in mcResponse"),a=a.map(_=>({..._,type:"question"})),i=i.map(_=>({..._,type:"multiple_choice"})),p.value=[...a,...i],console.log("Combined questions:",p.value.length,"items"),console.log("Regular questions:",a.length),console.log("Multiple choice questions:",i.length),a.length>0&&console.log("Sample regular question:",a[0]),i.length>0&&console.log("Sample MC question:",i[0]),p.value.length===0&&(console.warn("⚠️ No questions were loaded! Check API responses:"),console.warn("Regular response:",r),console.warn("MC response:",e))}catch(r){console.error("Failed to load questions:",r),console.error("Error details:",r.message,r.stack)}},fe=async()=>{try{const r=await Pe.getSections();Z.value=r.data.results}catch(r){console.error("Failed to load sections:",r)}},ke=()=>{let r=p.value.filter(e=>{var a;if(f.value==="multiple_choice"&&e.type!=="multiple_choice")return!1;if(q.value){const i=typeof e.section=="object"?(a=e.section)==null?void 0:a.id:e.section;if(!i||String(i)!==String(q.value))return!1}return!0});if(console.log("Filtered questions:",r.length,"out of",p.value.length),D.value&&(r=[...r].sort(()=>Math.random()-.5)),x.value=r.slice(0,A.value),x.value.length===0){alert("No questions match your criteria. Please adjust your settings.");return}c.value=0,g.value=!1,$.value="",v.value=null,R.value=!1,V.value={},w.value=Array(L.value.length).fill(0),O.value=0,I.value=0,k&&clearInterval(k),h&&clearInterval(h),k=setInterval(()=>{O.value++},1e3),h=setInterval(()=>{I.value++},1e3),j.value=!0,K(()=>{if(o.value.type==="question"&&F.value)F.value.focus();else if(o.value.type==="multiple_choice"){const e=document.querySelector('[tabindex="10"]');e&&e.focus()}})},N=r=>{g.value||(v.value=r)},G=()=>{g.value=!0},se=()=>{var e;g.value=!0;const r=v.value===((e=o.value.data)==null?void 0:e.correct_answer);V.value[o.value.id]=r},M=r=>{const e=L.value.findIndex(a=>a.id===o.value.id);e!==-1&&(w.value[e]=r),Y()},Y=()=>{g.value=!1,$.value="",v.value=null,I.value=0,c.value<x.value.length-1?c.value++:(R.value=!0,clearInterval(k),clearInterval(h))},oe=()=>{c.value>0&&(c.value--,g.value=!1,$.value="",v.value=null,I.value=0)},he=()=>{k&&clearInterval(k),h&&clearInterval(h),R.value=!1,j.value=!1},we=()=>{W.push("/questions")},ae=r=>{const e=Math.floor(r/60),a=r%60;return`${e}:${a.toString().padStart(2,"0")}`},_e=r=>{var e;return g.value?r===((e=o.value.data)==null?void 0:e.correct_answer)?"border-green-500 bg-green-50 dark:bg-green-900/20":v.value===r?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700":v.value===r?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"},Ce=r=>{var e;return g.value?r===((e=o.value.data)==null?void 0:e.correct_answer)?"border-green-500":v.value===r?"border-red-500":"border-gray-300 dark:border-gray-600":v.value===r?"border-primary-500":"border-gray-300 dark:border-gray-600"},qe=r=>r>=80?"text-green-600 dark:text-green-400":r>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return(r,e)=>{const a=je("router-link");return l(),J(Qe,{title:"Quiz Session"},{default:B(()=>{var i,_;return[ue(Te,{title:"Quiz Session"},{actions:B(()=>[t("div",De,[e[14]||(e[14]=t("div",{class:"hidden md:flex items-center text-sm text-gray-500 dark:text-gray-400 mr-2"},[t("kbd",{class:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-xs"},"←"),t("span",{class:"mx-1"},"Prev"),t("kbd",{class:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-xs"},"→"),t("span",{class:"mx-1"},"Next"),t("kbd",{class:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-xs"},"Space"),t("span",{class:"mx-1"},"Show Answer")],-1)),ue(a,{to:"/questions",class:"btn bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm"},{default:B(()=>e[13]||(e[13]=[y(" Exit Quiz ")])),_:1})])]),_:1}),X.value?(l(),J($e,{key:0})):p.value.length===0?(l(),J(Ie,{key:1,title:"No questions available",message:"You need to create some questions before you can start a quiz session.","action-text":"Create Questions",onAction:e[0]||(e[0]=s=>Fe(W).push("/questions/new"))},{icon:B(()=>e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])),_:1})):(l(),u("div",{key:2,ref_key:"quizContainer",ref:E,tabindex:"0",onKeydown:be,class:"focus:outline-none"},[j.value?(l(),u("div",Xe,[t("div",Ze,[t("div",et,[t("div",tt,[t("h3",rt," Question "+n(c.value+1)+" of "+n(x.value.length),1),t("div",st,n(Math.round((c.value+1)/x.value.length*100))+"% Complete ",1)]),t("div",ot,[t("div",{class:"bg-gradient-to-r from-gray-700 to-gray-800 dark:from-gray-600 dark:to-gray-500 h-1.5 rounded-full transition-all duration-500",style:Ne({width:`${(c.value+1)/x.value.length*100}%`})},null,4)])])]),t("div",at,[t("div",lt,[t("div",nt,[t("span",{class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",(o.value.type==="multiple_choice","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300")])},n(o.value.type==="multiple_choice"?"Multiple Choice":"Question"),3)]),t("div",it,[e[27]||(e[27]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),y(" "+n(ae(I.value)),1)])]),t("div",dt,[t("h2",ut,n(o.value.title),1),t("div",gt,n(o.value.content),1),o.value.type==="question"?(l(),u("div",ct,[P(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=s=>$.value=s),rows:"4",ref_key:"answerTextarea",ref:F,onKeydown:z(Q(G,["exact","prevent"]),["enter"]),class:"block w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Type your answer here... (Press Enter to submit)"},null,40,yt),[[ye,$.value]]),t("div",{class:"flex justify-end"},[t("button",{onClick:G,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"}," Show Answer ")])])):o.value.type==="multiple_choice"?(l(),u("div",vt,[(l(!0),u(ge,null,ce((i=o.value.data)==null?void 0:i.choices,(s,le)=>{var ne,ie;return l(),u("div",{key:le,class:b(["p-4 border rounded-lg flex items-center space-x-3 cursor-pointer transition-all duration-300",_e(s)]),onClick:de=>N(s),tabindex:10+le,onKeydown:[z(Q(de=>N(s),["prevent"]),["enter"]),z(Q(de=>N(s),["prevent"]),["space"])]},[t("div",{class:b(["flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center",Ce(s)])},[v.value===s||g.value&&s===((ne=o.value.data)==null?void 0:ne.correct_answer)?(l(),u("div",{key:0,class:b(["w-3 h-3 rounded-full",s===((ie=o.value.data)==null?void 0:ie.correct_answer)&&g.value?"bg-green-500":"bg-primary-500"])},null,2)):m("",!0)],2),t("div",null,n(s),1)],42,xt)}),128))])):m("",!0)]),g.value?(l(),u("div",mt,[g.value?(l(),u("button",{key:0,onClick:Y,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-primary-600 to-primary-700 text-white hover:from-primary-700 hover:to-primary-800 transition-colors duration-200"},[t("span",bt,[y(n(c.value===x.value.length-1?"Finish Quiz":"Next Question")+" ",1),e[28]||(e[28]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):m("",!0),e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-3"},"Correct Answer",-1)),o.value.type==="question"?(l(),u("div",pt,[t("div",{innerHTML:xe.value},null,8,ft)])):o.value.type==="multiple_choice"?(l(),u("div",kt,[t("div",ht,n((_=o.value.data)==null?void 0:_.correct_answer),1),o.value.additional_content?(l(),u("div",wt,n(o.value.additional_content),1)):m("",!0)])):m("",!0),o.value.type==="question"?(l(),u("div",_t,[e[32]||(e[32]=t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"How well did you know this?",-1)),t("div",Ct,[t("button",{onClick:e[7]||(e[7]=s=>M(1)),class:"flex-1 py-2 px-3 rounded bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/50",onKeydown:e[8]||(e[8]=z(Q(s=>M(1),["prevent"]),["1"])),tabindex:"11"},e[29]||(e[29]=[y(" Didn't Know "),t("span",{class:"text-xs ml-1 opacity-70"},"(1)",-1)]),32),t("button",{onClick:e[9]||(e[9]=s=>M(2)),class:"flex-1 py-2 px-3 rounded bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/50",onKeydown:e[10]||(e[10]=z(Q(s=>M(2),["prevent"]),["2"])),tabindex:"12"},e[30]||(e[30]=[y(" Partially Knew "),t("span",{class:"text-xs ml-1 opacity-70"},"(2)",-1)]),32),t("button",{onClick:e[11]||(e[11]=s=>M(3)),class:"flex-1 py-2 px-3 rounded bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/50",onKeydown:e[12]||(e[12]=z(Q(s=>M(3),["prevent"]),["3"])),tabindex:"13"},e[31]||(e[31]=[y(" Knew It "),t("span",{class:"text-xs ml-1 opacity-70"},"(3)",-1)]),32)])])):m("",!0)])):m("",!0)]),t("div",qt,[t("button",{onClick:oe,class:b(["px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",{"opacity-50 cursor-not-allowed":c.value===0}]),disabled:c.value===0},e[34]||(e[34]=[t("span",{class:"flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})]),y(" Previous ")],-1)]),10,Mt)]),e[35]||(e[35]=t("div",{class:"text-center mt-2 text-xs text-gray-500 dark:text-gray-400 md:hidden"},[y(" Keyboard shortcuts: "),t("kbd",{class:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"},"←"),y(" Prev "),t("kbd",{class:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"},"→"),y(" Next "),t("kbd",{class:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"},"Space"),y(" Show Answer ")],-1))])):(l(),u("div",Oe,[t("div",Ve,[e[26]||(e[26]=t("h2",{class:"text-lg font-medium text-gray-800 dark:text-gray-200 flex items-center mb-6"},[t("span",{class:"inline-block w-2 h-2 rounded-full bg-indigo-500 mr-2"}),y(" Quiz Configuration ")],-1)),t("div",Ee,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Quiz Mode",-1)),t("div",He,[t("div",{onClick:e[1]||(e[1]=s=>f.value="all"),class:b(["cursor-pointer p-4 rounded-lg border-2 flex items-center transition-all duration-200",f.value==="all"?"border-gray-800 dark:border-gray-300 bg-gray-50 dark:bg-gray-700/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"])},[t("div",{class:b(["flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center",f.value==="all"?"bg-gray-800 dark:bg-gray-300 text-white dark:text-gray-800":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"])},e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]),2),e[17]||(e[17]=t("div",{class:"ml-4"},[t("h3",{class:"font-medium text-gray-900 dark:text-white"},"All Questions"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Mix of all question types")],-1))],2),t("div",{onClick:e[2]||(e[2]=s=>f.value="multiple_choice"),class:b(["cursor-pointer p-4 rounded-lg border-2 flex items-center transition-all duration-200",f.value==="multiple_choice"?"border-gray-800 dark:border-gray-300 bg-gray-50 dark:bg-gray-700/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"])},[t("div",{class:b(["flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center",f.value==="multiple_choice"?"bg-gray-800 dark:bg-gray-300 text-white dark:text-gray-800":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"])},e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1)]),2),e[19]||(e[19]=t("div",{class:"ml-4"},[t("h3",{class:"font-medium text-gray-900 dark:text-white"},"Multiple Choice Only"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Only multiple choice questions")],-1))],2)])]),t("div",null,[e[23]||(e[23]=t("label",{for:"section-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},"Section (Optional)",-1)),t("div",Le,[P(t("select",{id:"section-filter","onUpdate:modelValue":e[3]||(e[3]=s=>q.value=s),class:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-700/50 dark:text-white appearance-none"},[e[21]||(e[21]=t("option",{value:null},"All Sections",-1)),(l(!0),u(ge,null,ce(Z.value,s=>(l(),u("option",{key:s.id,value:s.id},n(s.title),9,Ue))),128))],512),[[Ke,q.value]]),e[22]||(e[22]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[e[24]||(e[24]=t("label",{for:"question-count",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Number of Questions ",-1)),t("div",Ge,[P(t("input",{id:"question-count","onUpdate:modelValue":e[4]||(e[4]=s=>A.value=s),type:"number",min:"1",max:H.value,class:"block w-full pl-3 pr-3 py-2 text-base border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white"},null,8,Ye),[[ye,A.value,void 0,{number:!0}]])]),t("p",Je," Maximum available: "+n(H.value),1)]),t("div",We,[P(t("input",{id:"randomize","onUpdate:modelValue":e[5]||(e[5]=s=>D.value=s),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[Re,D.value]]),e[25]||(e[25]=t("label",{for:"randomize",class:"ml-2 block text-sm text-gray-900 dark:text-white"}," Randomize question order ",-1))]),t("div",{class:"flex justify-center pt-4"},[t("button",{onClick:ke,class:"px-6 py-3 bg-gradient-to-r from-primary-600 to-secondary-600 text-white rounded-lg font-medium hover:from-primary-700 hover:to-secondary-700 shadow-lg transform transition hover:scale-105"}," Start Quiz ")])])])])),R.value?(l(),u("div",St,[t("div",zt,[e[46]||(e[46]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"},"Quiz Complete!",-1)),t("div",Qt,[e[44]||(e[44]=t("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," You've completed the quiz. Here's your performance: ",-1)),t("div",At,[t("div",jt,[e[36]||(e[36]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Questions",-1)),t("p",$t,n(x.value.length),1)]),t("div",It,[e[37]||(e[37]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Time Spent",-1)),t("p",Ft,n(ae(O.value)),1)])]),e[45]||(e[45]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Performance",-1)),S.value.length>0?(l(),u("div",Kt,[e[38]||(e[38]=t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Multiple Choice",-1)),t("div",Rt,[t("div",null,[t("span",Nt,n(U.value),1),y(" correct of "+n(S.value.length),1)]),t("div",{class:b(["text-lg font-bold",qe(te.value)])},n(te.value)+"% ",3)])])):m("",!0),L.value.length>0?(l(),u("div",Tt,[e[42]||(e[42]=t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Free-form",-1)),t("div",Bt,[t("div",null,[e[39]||(e[39]=t("p",{class:"text-sm text-red-600 dark:text-red-400"},"Didn't Know",-1)),t("p",Pt,n(w.value.filter(s=>s===1).length),1)]),t("div",null,[e[40]||(e[40]=t("p",{class:"text-sm text-yellow-600 dark:text-yellow-400"},"Partial",-1)),t("p",Dt,n(w.value.filter(s=>s===2).length),1)]),t("div",null,[e[41]||(e[41]=t("p",{class:"text-sm text-green-600 dark:text-green-400"},"Knew It",-1)),t("p",Ot,n(w.value.filter(s=>s===3).length),1)])])])):m("",!0),t("div",Vt,[e[43]||(e[43]=t("h3",{class:"text-sm font-medium mb-1"},"Overall Score",-1)),t("p",Et,n(me.value)+"%",1)])]),t("div",{class:"flex justify-end space-x-3"},[t("button",{onClick:he,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}," Start New Quiz "),t("button",{onClick:we,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700"}," Finish ")])])])):m("",!0)],544))]}),_:1})}}};export{Jt as default};
