import{_ as Q,r as M,a as I,o as P,b as w,w as v,d as U,u as R,e as K,f as l,g as k,h as e,i as d,k as c,y as a,l as y,v as h,F as _,m as D,t as g,n as Z,p as q,q as p,s as E,x as G,j as m,z as V}from"./index-Cx2El54a.js";import{_ as O}from"./PageHeader-CLbsVlwg.js";import{u as Y}from"./todos-vJPuSmwq.js";import{s as J}from"./sections-CkNSaj2W.js";import"./todos-Q-LE40Es.js";const W={class:"relative p-5"},X={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ee={class:"space-y-1.5"},te={class:"relative"},re={class:"space-y-1.5"},oe={class:"relative"},se=["value"],ae={class:"space-y-1.5"},le={class:"relative"},ne={class:"space-y-1.5"},ie={class:"relative"},de={class:"mt-4 flex justify-end"},ue={key:2},ce={class:"overflow-hidden"},ge={class:"flex items-center justify-between mb-4 px-2"},pe={class:"flex items-center text-xs text-gray-500 dark:text-gray-400"},fe={class:"font-medium"},me={class:"ml-1"},xe={class:"space-y-3"},be={class:"pl-3 flex items-start"},ve={class:"flex-shrink-0 pt-1"},ye=["onClick"],we={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-white",viewBox:"0 0 20 20",fill:"currentColor"},ke={class:"ml-3 flex-1 min-w-0"},he={class:"flex items-center flex-wrap gap-2 mb-1"},_e={key:0,class:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2 mb-2"},De={key:1,class:"flex flex-wrap gap-1 mt-2"},Ce={class:"ml-2 flex-shrink-0 flex items-center space-x-0.5"},Te=["onClick"],Se={key:0,class:"mt-6 flex justify-between items-center"},Me={class:"text-xs text-gray-500 dark:text-gray-400"},Ve={class:"flex space-x-2"},Be={__name:"TodoListAll",setup(ze){const B=R(),i=Y(),C=M([]),f=M(1),n=I({section:null,completed:null,searchQuery:"",sort:"-created_at"});P(async()=>{await Promise.all([z(),b()])});const z=async()=>{try{const o=await J.getSections();C.value=o.data.results}catch(o){console.error("Failed to load sections:",o)}},b=async()=>{try{await i.fetchTodos(f.value)}catch(o){console.error("Failed to fetch todos:",o)}},T=async o=>{f.value=o,await b()},x=async()=>{i.setFilters({section:n.section,completed:n.completed,searchQuery:n.searchQuery,sort:n.sort}),f.value=1,await b()},A=async()=>{n.section=null,n.completed=null,n.searchQuery="",n.sort="-created_at",i.resetFilters(),f.value=1,await b()},S=(o,t=1)=>{const s=parseInt(o.slice(1,3),16),r=parseInt(o.slice(3,5),16),u=parseInt(o.slice(5,7),16);return`rgba(${s}, ${r}, ${u}, ${t})`},F=o=>{if(!o)return"";const t=new Date(o),s=new Date;s.setHours(0,0,0,0);const r=new Date(s);return r.setDate(r.getDate()+1),t.toDateString()===s.toDateString()?"Today":t.toDateString()===r.toDateString()?"Tomorrow":t.toLocaleDateString(void 0,{month:"short",day:"numeric"})},$=o=>{if(!o)return"bg-gray-300 dark:bg-gray-600";const t=new Date(o),s=new Date;if(s.setHours(0,0,0,0),t<s)return"bg-red-500";if(t.toDateString()===s.toDateString())return"bg-amber-500";{const r=new Date(s);return r.setDate(r.getDate()+1),t.toDateString()===r.toDateString()?"bg-blue-500":"bg-green-500"}},j=o=>{if(!o)return"";const t=new Date(o),s=new Date;if(s.setHours(0,0,0,0),t<s)return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";if(t.toDateString()===s.toDateString())return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";{const r=new Date(s);return r.setDate(r.getDate()+1),t.toDateString()===r.toDateString()?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}},L=async o=>{try{await i.toggleTodoComplete(o.id)}catch(t){console.error("Failed to toggle todo completion:",t)}},H=async o=>{if(confirm(`Are you sure you want to delete "${o.title}"?`))try{await i.deleteTodo(o.id)}catch(t){console.error("Failed to delete todo:",t)}},N=()=>{B.push("/todos/new")};return(o,t)=>{const s=K("router-link");return l(),w(U,{title:"Todo List"},{default:v(()=>[k(O,{title:"Todo List"},{actions:v(()=>[k(s,{to:"/todos/new",class:"btn-primary"},{default:v(()=>t[6]||(t[6]=[c(" New Todo ")])),_:1})]),_:1}),e("div",{class:a(["mb-6 rounded-2xl shadow-lg relative overflow-hidden",["bg-gradient-to-r","dark:from-gray-900 dark:to-gray-800","from-white to-gray-50"]])},[e("div",{class:a(["absolute top-0 right-0 w-64 h-64 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none",["dark:bg-gradient-to-br dark:from-blue-500/20 dark:to-purple-500/20","bg-gradient-to-br from-blue-500/10 to-purple-500/10"]])}),e("div",{class:a(["absolute bottom-0 left-0 w-64 h-64 rounded-full blur-3xl -ml-32 -mb-32 pointer-events-none",["dark:bg-gradient-to-tr dark:from-amber-500/10 dark:to-emerald-500/10","bg-gradient-to-tr from-amber-500/5 to-emerald-500/5"]])}),e("div",W,[e("h3",{class:a(["text-base font-medium mb-4 flex items-center",["dark:text-white","text-gray-800"]])},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),c(" Filter Tasks ")])),e("div",X,[e("div",ee,[e("label",{for:"filter-status",class:a(["block text-xs font-medium",["dark:text-gray-300","text-gray-600"]])},"Status"),e("div",te,[y(e("select",{id:"filter-status","onUpdate:modelValue":t[0]||(t[0]=r=>n.completed=r),onChange:x,class:a(["w-full pl-3 pr-8 py-2 text-sm rounded-lg focus:outline-none focus:ring-1 appearance-none border",["dark:bg-gray-800/50 dark:border-gray-700 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","bg-white border-gray-200 text-gray-800 focus:ring-blue-500 focus:border-blue-500"]])},t[8]||(t[8]=[e("option",{value:null},"All",-1),e("option",{value:!1},"Incomplete",-1),e("option",{value:!0},"Completed",-1)]),544),[[h,n.completed]]),t[9]||(t[9]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",re,[e("label",{for:"filter-section",class:a(["block text-xs font-medium",["dark:text-gray-300","text-gray-600"]])},"Section"),e("div",oe,[y(e("select",{id:"filter-section","onUpdate:modelValue":t[1]||(t[1]=r=>n.section=r),onChange:x,class:a(["w-full pl-3 pr-8 py-2 text-sm rounded-lg focus:outline-none focus:ring-1 appearance-none border",["dark:bg-gray-800/50 dark:border-gray-700 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","bg-white border-gray-200 text-gray-800 focus:ring-blue-500 focus:border-blue-500"]])},[t[10]||(t[10]=e("option",{value:null},"All Sections",-1)),(l(!0),d(_,null,D(C.value,r=>(l(),d("option",{key:r.id,value:r.id},g(r.title),9,se))),128))],544),[[h,n.section]]),t[11]||(t[11]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",ae,[e("label",{for:"filter-sort",class:a(["block text-xs font-medium",["dark:text-gray-300","text-gray-600"]])},"Sort By"),e("div",le,[y(e("select",{id:"filter-sort","onUpdate:modelValue":t[2]||(t[2]=r=>n.sort=r),onChange:x,class:a(["w-full pl-3 pr-8 py-2 text-sm rounded-lg focus:outline-none focus:ring-1 appearance-none border",["dark:bg-gray-800/50 dark:border-gray-700 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","bg-white border-gray-200 text-gray-800 focus:ring-blue-500 focus:border-blue-500"]])},t[12]||(t[12]=[e("option",{value:"-created_at"},"Newest First",-1),e("option",{value:"created_at"},"Oldest First",-1),e("option",{value:"due_date"},"Due Date (Ascending)",-1),e("option",{value:"-due_date"},"Due Date (Descending)",-1),e("option",{value:"title"},"Title (A-Z)",-1),e("option",{value:"-title"},"Title (Z-A)",-1)]),544),[[h,n.sort]]),t[13]||(t[13]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",ne,[e("label",{for:"filter-search",class:a(["block text-xs font-medium",["dark:text-gray-300","text-gray-600"]])},"Search"),e("div",ie,[t[14]||(t[14]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),y(e("input",{id:"filter-search",type:"text","onUpdate:modelValue":t[3]||(t[3]=r=>n.searchQuery=r),onKeyup:Z(x,["enter"]),class:a(["block w-full pl-10 pr-3 py-2 text-sm rounded-lg focus:outline-none focus:ring-1 border",["dark:bg-gray-800/50 dark:border-gray-700 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","bg-white border-gray-200 text-gray-800 focus:ring-blue-500 focus:border-blue-500"]]),placeholder:"Search tasks..."},null,544),[[q,n.searchQuery]])])])]),e("div",de,[e("button",{onClick:x,class:"mr-2 inline-flex items-center px-3.5 py-1.5 text-xs font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),c(" Apply Filters ")])),e("button",{onClick:A,class:a(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-lg transition-colors",["dark:text-gray-300 dark:bg-gray-700/50 dark:hover:bg-gray-600/50 dark:focus:ring-gray-500","text-gray-700 bg-gray-100 hover:bg-gray-200 focus:ring-gray-300"]])},t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),c(" Reset ")]))])])]),p(i).loading?(l(),w(E,{key:0})):p(i).todos.length===0?(l(),w(G,{key:1,title:"No todos found",message:"Get started by creating your first todo item, or adjust your filters.","action-text":"Create a Todo",onAction:N})):(l(),d("div",ue,[e("div",ce,[e("div",ge,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white flex items-center"},[e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),c(" Your Tasks ")],-1)),e("div",pe,[e("span",fe,g(p(i).pagination.count),1),e("span",me,g(p(i).pagination.count===1?"task":"tasks")+" total",1)])]),e("div",xe,[(l(!0),d(_,null,D(p(i).todos,r=>(l(),d("div",{key:r.id,class:a(["group relative bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 transition-all duration-200 hover:shadow-md hover:translate-y-[-2px]",r.is_completed?"opacity-80":""])},[e("div",{class:a(["absolute top-0 left-0 h-full w-1 rounded-l-xl",[r.due_date?$(r.due_date):"bg-gray-300 dark:bg-gray-600"]])},null,2),e("div",be,[e("div",ve,[e("div",{class:a(["h-5 w-5 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200",[r.is_completed?"bg-gradient-to-br from-green-400 to-green-600 border-0 shadow-sm":"border-2 border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"]]),onClick:u=>L(r)},[r.is_completed?(l(),d("svg",we,t[18]||(t[18]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):m("",!0)],10,ye)]),e("div",ke,[e("div",he,[e("h4",{class:a(["text-sm font-medium text-gray-900 dark:text-white",{"line-through text-gray-400 dark:text-gray-500":r.is_completed}])},g(r.title),3),r.due_date?(l(),d("div",{key:0,class:a(["flex-shrink-0 inline-flex items-center text-xs font-medium px-2 py-0.5 rounded-full",j(r.due_date)])},[t[19]||(t[19]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})],-1)),c(" "+g(F(r.due_date)),1)],2)):m("",!0)]),r.content?(l(),d("div",_e,g(r.content),1)):m("",!0),r.tags&&r.tags.length>0?(l(),d("div",De,[(l(!0),d(_,null,D(r.tags,u=>(l(),d("span",{key:u.id,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium transition-colors",style:V({backgroundColor:S(u.color,.15),color:u.color,borderColor:S(u.color,.3)})},[e("span",{class:"w-1.5 h-1.5 rounded-full mr-1",style:V({backgroundColor:u.color})},null,4),c(" "+g(u.name),1)],4))),128))])):m("",!0)]),e("div",Ce,[k(s,{to:`/todos/${r.id}`,class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},{default:v(()=>t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])),_:2},1032,["to"]),e("button",{onClick:u=>H(r),class:"p-1.5 rounded-full hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors"},t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,Te)])])],2))),128))]),p(i).pagination.count>0?(l(),d("div",Se,[e("div",Me," Page "+g(f.value)+" of "+g(Math.ceil(p(i).pagination.count/10)),1),e("div",Ve,[p(i).pagination.previous?(l(),d("button",{key:0,onClick:t[4]||(t[4]=r=>T(f.value-1)),class:"px-3.5 py-1.5 text-xs font-medium rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm transition-colors"},t[22]||(t[22]=[e("span",{class:"flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})]),c(" Previous ")],-1)]))):m("",!0),p(i).pagination.next?(l(),d("button",{key:1,onClick:t[5]||(t[5]=r=>T(f.value+1)),class:"px-3.5 py-1.5 text-xs font-medium rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm transition-colors"},t[23]||(t[23]=[e("span",{class:"flex items-center"},[c(" Next "),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5 ml-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1)]))):m("",!0)])])):m("",!0)])]))]),_:1})}}},He=Q(Be,[["__scopeId","data-v-1da4efee"]]);export{He as default};
